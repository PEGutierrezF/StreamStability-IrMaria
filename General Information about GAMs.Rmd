---
title: "General information about GAMs"
author: "Pablo E. GutiÃ©rrez-Fonseca"
date: "3/18/2022"
output:
  pdf_document: default
---

## Model construction 

### s (Both GAMs)
s = represent smooth function
```{r, eval=FALSE}
gam(value ~s(date,...
             
```


### Define knots (Both GAMs)
k = knots. 12 month per year or 24 sampling event per year. 
Seleccione 12 por Simpson, del siguiente enlace
https://fromthebottomoftheheap.net/2014/05/09/modelling-seasonal-data-with-gam/


### bs= basis spline (Both GAMs)
bs= basis spline
Smooth classes are invoked directly by s terms
https://stat.ethz.ch/R-manual/R-devel/library/mgcv/html/smooth.terms.html


### bf (Bayesian GAMs)
Note that we use the bf() argument to specify this nonlinear model. 


## Output

Hay que ver el Smooth Terms: ->   sds(sdate_1) -> 
sds(stimes_1) is the variance parameter, which has the effect of controlling 
the wiggliness of the smooth - the larger this value the more wiggly the smooth.
https://fromthebottomoftheheap.net/2018/04/21/fitting-gams-with-brms/


## Check models

### pp_check()
https://tem11010.github.io/regression_brms/
The pp_check allows for graphical posterior predictive checking. 
We can generate figures to compare the observed data to simulated 
data from the posterior predictive distribution. This is a great 
graphical way to evaluate your model.

Here, nsamples refers to the number of draws from the posterior 
distribution to use to calculate yrep values.

```{r, eval=FALSE}
pp_check(model, nsamples=100)
```


### bayes_r2

Bayes R2 quantifies the expected fit or variance explained by a model

We can also get an R-squared estimate for our model, 
thanks to a newly-developed method from Andrew Gelman, 
Ben Goodrich, Jonah Gabry and Imad Ali, with an explanation here.
http://www.stat.columbia.edu/~gelman/research/unpublished/bayes_R2.pdf
https://tem11010.github.io/regression_brms/

r2(cc.qp_A.Bayes_mod) Existe esta otra, pero usare la de Gelman

```{r, eval=FALSE}
bayes_R2(model)
```

